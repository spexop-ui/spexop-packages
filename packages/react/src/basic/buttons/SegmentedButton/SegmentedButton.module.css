/**
 * SegmentedButton Component Styles
 * Radio-style button selection following "The Spexop Way"
 * 
 * Design Principles Applied:
 * - Borders before shadows: Strong 2-3px borders, minimal shadows
 * - Typography before decoration: Font weight for hierarchy
 * - Tokens before magic numbers: All values from theme system
 * - Accessibility before aesthetics: WCAG AA+ compliance
 * - Composition before complexity: Simple, focused design
 * 
 * @component SegmentedButton
 * @packageName @spexop/react
 * @description Segmented button styling with modern UI/UX
 * @author @spexop-ui | github.com/spexop-ui | @olmstedian | github.com/olmstedian
 * @version 0.3.0
 * @since 2025-10-13
 * @updated 2025-01-20 - Modern UI/UX improvements
 */

/* Container - Clean Border-First Design */
.segmentedButton {
	display: inline-flex;
	background: var(--theme-surface-secondary);
	border: var(--theme-border-width) solid var(--theme-border-strong);
	border-radius: var(--theme-radius-lg);
	padding: var(--theme-spacing-1);
	gap: var(--theme-spacing-1);
	/* Modern UI enhancements */
	position: relative;
	overflow: hidden;
	/* Performance optimizations */
	will-change: transform;
	transform: translateZ(0);
	backface-visibility: hidden;
	/* Smooth transitions */
	transition: border-color 150ms cubic-bezier(0.4, 0, 0.2, 1);
	/* Reset fieldset defaults */
	margin: 0;
	padding: var(--theme-spacing-1);
	border: var(--theme-border-width) solid var(--theme-border-strong);
}

/* Individual Option Button - Typography-First Design */
.option {
	border: none;
	background: transparent;
	color: var(--theme-text-secondary);
	padding: var(--theme-spacing-3) var(--theme-spacing-4);
	font-size: var(--theme-font-size-sm);
	font-weight: var(--theme-font-weight-semibold);
	font-family: var(--theme-font-family);
	line-height: var(--theme-line-height-tight);
	border-radius: var(--theme-radius-md);
	cursor: pointer;
	transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--theme-spacing-2);
	white-space: nowrap;
	/* Performance optimizations */
	will-change: transform, background-color, color;
	transform: translateZ(0);
	backface-visibility: hidden;
	/* Accessibility - Minimum touch target size */
	min-height: 44px;
	min-width: 44px;
	/* Modern UI patterns */
	user-select: none;
	-webkit-tap-highlight-color: transparent;
	position: relative;
	overflow: hidden;
}

/* Hover State (not active, not disabled) */
.option:hover:not(.optionActive):not(:disabled) {
	color: var(--theme-text);
	background: var(--theme-surface-hover);
	/* Subtle elevation on hover */
	transform: translateY(-1px);
}

/* Active/Selected State - Border-First Design */
.optionActive {
	background: var(--theme-surface);
	color: var(--theme-text);
	font-weight: var(--theme-font-weight-bold);
	/* Strong border instead of shadow */
	border: var(--theme-border-width) solid var(--theme-primary);
	/* Subtle elevation for depth */
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
	transform: translateY(-1px);
	/* Enhanced visual hierarchy */
	position: relative;
	z-index: 1;
}

/* Disabled State */
.optionDisabled {
	cursor: not-allowed;
	opacity: 0.4;
	background: var(--theme-surface-secondary);
	color: var(--theme-text-muted);
	/* Prevent any interactions */
	pointer-events: none;
}

/* Active state for better touch feedback */
.option:active:not(.optionDisabled) {
	transform: scale(0.98);
	transition-duration: 100ms;
}

/* Enhanced Focus Indicators - WCAG AA+ Compliance */
.option:focus-visible {
	outline: 2px solid var(--theme-primary);
	outline-offset: 2px;
	z-index: 10;
	border-radius: var(--theme-radius-md);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
	.option:focus-visible {
		outline: 3px solid var(--theme-primary);
		outline-offset: 3px;
	}
	
	.optionActive {
		border-width: var(--theme-border-thick);
	}
}

/* Icon within option */
.optionIcon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	flex-shrink: 0;
}

.optionIcon svg {
	width: var(--theme-spacing-5);
	height: var(--theme-spacing-5);
}

/* Label text */
.optionLabel {
	display: inline-block;
}

/* Dark Theme Adjustments */
html[data-theme="dark"] .segmentedButton {
	background: var(--theme-surface-secondary);
	border-color: var(--theme-border-strong);
}

html[data-theme="dark"] .optionActive {
	background: var(--theme-surface-hover);
	color: var(--theme-text);
	border-bottom-color: var(--theme-primary);
}

html[data-theme="dark"] .option {
	color: var(--theme-text-secondary);
}

html[data-theme="dark"] .option:hover:not(.optionActive):not(:disabled) {
	background: var(--theme-surface-hover);
	color: var(--theme-text);
}

/* Size Variants - Following Spexop Design System */

/* Small Size */
.sizeSm .option {
	padding: var(--theme-spacing-2) var(--theme-spacing-3);
	font-size: var(--theme-font-size-xs);
	min-height: 36px;
	min-width: 36px;
}

.sizeSm {
	padding: var(--theme-spacing-0_5);
	gap: var(--theme-spacing-0_5);
}

/* Medium Size (default) */
.sizeMd .option {
	padding: var(--theme-spacing-3) var(--theme-spacing-4);
	font-size: var(--theme-font-size-sm);
	min-height: 44px;
	min-width: 44px;
}

/* Large Size */
.sizeLg .option {
	padding: var(--theme-spacing-4) var(--theme-spacing-5);
	font-size: var(--theme-font-size-base);
	min-height: 52px;
	min-width: 52px;
}

.sizeLg {
	padding: var(--theme-spacing-1_5);
	gap: var(--theme-spacing-1_5);
}

/* Full Width */
.fullWidth {
	width: 100%;
}

.fullWidth .option {
	flex: 1;
}

/* Mobile optimizations - Enhanced Touch Targets */
@media (max-width: 768px) {
	.option {
		min-height: 48px;
		min-width: 48px;
		padding: var(--theme-spacing-4) var(--theme-spacing-5);
		-webkit-tap-highlight-color: transparent;
		touch-action: manipulation;
	}
	
	.option:active:not(.optionDisabled) {
		transform: scale(0.96);
		transition-duration: 80ms;
	}
	
	/* Larger touch targets for small screens */
	.sizeSm .option {
		min-height: 44px;
		min-width: 44px;
	}
}

/* Tablet optimizations */
@media (min-width: 769px) and (max-width: 1024px) {
	.option {
		min-height: 46px;
		min-width: 46px;
	}
}

/* Screen Reader Only Text */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

/* Accessibility: Reduced Motion */
@media (prefers-reduced-motion: reduce) {
	.option {
		transition: none;
	}
	
	.option:active:not(.optionDisabled) {
		transform: none;
	}
	
	.optionActive {
		transform: none;
	}
	
	.option:hover:not(.optionActive):not(:disabled) {
		transform: none;
	}
}
